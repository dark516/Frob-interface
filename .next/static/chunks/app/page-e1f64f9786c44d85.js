(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{15515:(e,t,a)=>{Promise.resolve().then(a.bind(a,59737))},59737:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eW});var s=a(58081),l=a(82149),n=a(3595),r=a(64331),i=a(21880),d=a(69870),o=a(42506),c=a(60123),m=a(65099),u=a(95675),h=a(9573),f=a(23484),x=a(76522),p=a(14483);function g(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,p.QP)((0,x.$)(t))}let j=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),v=l.forwardRef((e,t)=>{let{className:a,variant:l,size:n,asChild:r=!1,...i}=e,d=r?h.DX:"button";return(0,s.jsx)(d,{className:g(j({variant:l,size:n,className:a})),ref:t,...i})});v.displayName="Button";var y=a(33006);let N=l.forwardRef((e,t)=>{let{className:a,orientation:l="horizontal",decorative:n=!0,...r}=e;return(0,s.jsx)(y.b,{ref:t,decorative:n,orientation:l,className:g("shrink-0 bg-border","horizontal"===l?"h-[1px] w-full":"h-full w-[1px]",a),...r})});N.displayName=y.b.displayName;var b=a(4829),w=a(63602),k=a(76722),C=a(48022);let z=b.bL,S=b.l9;b.YJ,b.ZL,b.Pb,b.z6,l.forwardRef((e,t)=>{let{className:a,inset:l,children:n,...r}=e;return(0,s.jsxs)(b.ZP,{ref:t,className:g("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",l&&"pl-8",a),...r,children:[n,(0,s.jsx)(w.A,{className:"ml-auto"})]})}).displayName=b.ZP.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(b.G5,{ref:t,className:g("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})}).displayName=b.G5.displayName;let _=l.forwardRef((e,t)=>{let{className:a,sideOffset:l=4,...n}=e;return(0,s.jsx)(b.ZL,{children:(0,s.jsx)(b.UC,{ref:t,sideOffset:l,className:g("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});_.displayName=b.UC.displayName;let A=l.forwardRef((e,t)=>{let{className:a,inset:l,...n}=e;return(0,s.jsx)(b.q7,{ref:t,className:g("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",l&&"pl-8",a),...n})});A.displayName=b.q7.displayName,l.forwardRef((e,t)=>{let{className:a,children:l,checked:n,...r}=e;return(0,s.jsxs)(b.H_,{ref:t,className:g("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(b.VF,{children:(0,s.jsx)(k.A,{className:"h-4 w-4"})})}),l]})}).displayName=b.H_.displayName,l.forwardRef((e,t)=>{let{className:a,children:l,...n}=e;return(0,s.jsxs)(b.hN,{ref:t,className:g("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(b.VF,{children:(0,s.jsx)(C.A,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=b.hN.displayName,l.forwardRef((e,t)=>{let{className:a,inset:l,...n}=e;return(0,s.jsx)(b.JU,{ref:t,className:g("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",a),...n})}).displayName=b.JU.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(b.wv,{ref:t,className:g("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=b.wv.displayName;var R=a(35313),L=a(48370),M=a(19213);let I=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:g("rounded-lg border bg-card text-card-foreground shadow-sm",a),...l})});I.displayName="Card";let P=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:g("flex flex-col space-y-1.5 p-6",a),...l})});P.displayName="CardHeader";let E=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:g("text-2xl font-semibold leading-none tracking-tight",a),...l})});E.displayName="CardTitle";let F=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:g("text-sm text-muted-foreground",a),...l})});F.displayName="CardDescription";let O=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:g("p-6 pt-0",a),...l})});O.displayName="CardContent",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:g("flex items-center p-6 pt-0",a),...l})}).displayName="CardFooter";var D=a(25192);let U=()=>({value:Math.floor(40*Math.random())+30,time:new Date().getTime()});function T(){let[e,t]=(0,l.useState)([]),[a,n]=(0,l.useState)(0);return(0,l.useEffect)(()=>{let e=Array.from({length:20},()=>U());t(e),n(e[e.length-1].value);let a=setInterval(()=>{let e=U();t(t=>[...t.slice(-19),e]),n(e.value)},1e3);return()=>clearInterval(a)},[]),(0,s.jsxs)(I,{className:"border-0 bg-transparent shadow-none",children:[(0,s.jsxs)(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(E,{className:"text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(D.A,{className:"h-4 w-4"}),"Processor Load"]})}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[a,"%"]})]}),(0,s.jsx)(O,{children:(0,s.jsx)("div",{className:"h-[80px]",children:(0,s.jsx)(R.u,{width:"100%",height:"100%",children:(0,s.jsx)(L.b,{data:e,margin:{top:5,right:5,left:5,bottom:5},children:(0,s.jsx)(M.N,{type:"monotone",dataKey:"value",stroke:"var(--primary)",strokeWidth:2,dot:!1,isAnimationActive:!1})})})})})]})}let H=[{name:"/robot_state_publisher",status:"active"},{name:"/controller_manager",status:"active"},{name:"/lidar_node",status:"active"},{name:"/camera_node",status:"warning"}],J=[{name:"/cmd_vel",type:"geometry_msgs/Twist"},{name:"/battery_state",type:"sensor_msgs/BatteryState"},{name:"/joint_states",type:"sensor_msgs/JointState"},{name:"/camera/image_raw",type:"sensor_msgs/Image"},{name:"/scan",type:"sensor_msgs/LaserScan"}],W=(0,l.memo)(function(e){let{createWindow:t,autoLayout:a,onAutoLayoutChange:l}=e;return(0,s.jsxs)("div",{className:"w-64 border-r border-border bg-card text-card-foreground p-4 flex flex-col",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),"Battery Status"]}),(0,s.jsx)("div",{className:"bg-secondary h-2 rounded-full",children:(0,s.jsx)("div",{className:"bg-primary h-full rounded-full",style:{width:"76.9%"}})}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"76.9%"})]}),(0,s.jsx)(T,{}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[(0,s.jsx)(r.A,{className:"h-4 w-4"}),"Connection Status"]}),(0,s.jsx)("span",{className:"text-green-500 text-sm",children:"â€¢ connected"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),"ROS Nodes"]}),(0,s.jsx)("ul",{className:"text-sm space-y-1",children:H.map(e=>(0,s.jsxs)("li",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"h-2 w-2 rounded-full ".concat("active"===e.status?"bg-green-500":"bg-yellow-500")}),e.name]},e.name))})]})]}),(0,s.jsxs)("div",{className:"mt-auto space-y-2",children:[(0,s.jsx)(N,{className:"my-4"}),(0,s.jsxs)(v,{variant:"ghost",className:"w-full justify-start gap-2",onClick:()=>t("filesystem"),children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),"File System"]}),(0,s.jsxs)(v,{variant:"ghost",className:"w-full justify-start gap-2",onClick:()=>t("console"),children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),"New Console"]}),(0,s.jsxs)(v,{variant:"ghost",className:"w-full justify-start gap-2",onClick:()=>t("editor"),children:[(0,s.jsx)(c.A,{className:"h-4 w-4"}),"New Editor"]}),(0,s.jsxs)(z,{children:[(0,s.jsx)(S,{asChild:!0,children:(0,s.jsxs)(v,{variant:"ghost",className:"w-full justify-start gap-2",children:[(0,s.jsx)(m.A,{className:"h-4 w-4"}),"Open Topic"]})}),(0,s.jsx)(_,{children:J.map(e=>(0,s.jsx)(A,{onSelect:()=>t("topic",e.name),children:e.name},e.name))})]}),(0,s.jsx)(N,{className:"my-4"}),(0,s.jsxs)(v,{variant:a?"secondary":"ghost",className:"w-full justify-start gap-2",onClick:()=>l(!a),children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),"Auto Layout"]})]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-4",children:"Last updated: 12:03:43 PM"})]})});var B=a(32112),q=a(11613),V=a(64690),Z=a(22522);let G=l.forwardRef((e,t)=>{let{className:a,type:l,...n}=e;return(0,s.jsx)("input",{type:l,className:g("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});G.displayName="Input";var K=a(29236);let Y=l.forwardRef((e,t)=>{let{className:a,children:l,...n}=e;return(0,s.jsxs)(K.bL,{ref:t,className:g("relative overflow-hidden",a),...n,children:[(0,s.jsx)(K.LM,{className:"h-full w-full rounded-[inherit]",children:l}),(0,s.jsx)(Q,{}),(0,s.jsx)(K.OK,{})]})});Y.displayName=K.bL.displayName;let Q=l.forwardRef((e,t)=>{let{className:a,orientation:l="vertical",...n}=e;return(0,s.jsx)(K.VM,{ref:t,orientation:l,className:g("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...n,children:(0,s.jsx)(K.lr,{className:"relative flex-1 rounded-full bg-border"})})});function X(){let[e,t]=(0,l.useState)(""),[a,n]=(0,l.useState)([]);return(0,s.jsxs)("div",{className:"h-full flex flex-col p-4",children:[(0,s.jsx)(Y,{className:"flex-1 mb-4",children:a.map((e,t)=>(0,s.jsx)("div",{className:"font-mono text-sm",children:e},t))}),(0,s.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e.trim()&&(n(t=>[...t,"> ".concat(e),"Executed command: ".concat(e)]),t(""))},className:"flex space-x-2",children:[(0,s.jsx)(G,{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter command...",className:"flex-1"}),(0,s.jsx)(v,{type:"submit",children:"Send"})]})]})}Q.displayName=K.VM.displayName;var $=a(29949);let ee=$.bL,et=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)($.B8,{ref:t,className:g("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...l})});et.displayName=$.B8.displayName;let ea=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)($.l9,{ref:t,className:g("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...l})});ea.displayName=$.l9.displayName;let es=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)($.UC,{ref:t,className:g("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l})});es.displayName=$.UC.displayName;let el=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("textarea",{className:g("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});el.displayName="Textarea";var en=a(47500),er=a(67273),ei=a(11528);function ed(){let e=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(!e.current)return;let t=e.current,a=t.getContext("2d");if(!a)return;let s=Array.from({length:360},(e,t)=>({angle:t,distance:50+50*Math.random()}));t.width=t.offsetWidth,t.height=t.offsetHeight,a.fillStyle="#000",a.fillRect(0,0,t.width,t.height);let l=t.width/2,n=t.height/2,r=Math.min(t.width,t.height)/200;a.beginPath(),s.forEach(e=>{let t=e.angle*Math.PI/180,s=l+Math.cos(t)*e.distance*r,i=n+Math.sin(t)*e.distance*r;a.fillStyle="#00ff00",a.fillRect(s-1,i-1,2,2)}),a.stroke(),a.strokeStyle="#333";for(let e=1;e<=4;e++)a.beginPath(),a.arc(l,n,25*e*r,0,2*Math.PI),a.stroke()},[]),(0,s.jsx)("canvas",{ref:e,className:"w-full h-64 bg-black"})}function eo(){return(0,s.jsx)("div",{className:"w-full h-48 bg-black flex items-center justify-center overflow-hidden",children:(0,s.jsx)("img",{src:"/placeholder.svg?height=480&width=640",alt:"Camera Feed",className:"max-w-full max-h-full object-cover"})})}let ec={"/cmd_vel":{type:"geometry_msgs/Twist",data:'{"linear":{"x":0,"y":0,"z":0},"angular":{"x":0,"y":0,"z":0}}',frequency:"10 Hz",template:'{"linear":{"x":0,"y":0,"z":0},"angular":{"x":0,"y":0,"z":0}}'},"/battery_state":{type:"sensor_msgs/BatteryState",data:'{"percentage":75,"voltage":12.5}',frequency:"1 Hz",template:'{"percentage":0,"voltage":0}'},"/joint_states":{type:"sensor_msgs/JointState",data:'{"position":[0,0,0],"velocity":[0,0,0]}',frequency:"50 Hz",template:'{"position":[0,0,0],"velocity":[0,0,0]}'},"/camera/image_raw":{type:"sensor_msgs/Image",data:'{"width":640,"height":480,"encoding":"rgb8"}',frequency:"30 Hz",template:'{"width":0,"height":0,"encoding":""}'},"/scan":{type:"sensor_msgs/LaserScan",data:'{"ranges":[1.0,1.5,2.0,2.5,3.0],"angle_min":-3.14,"angle_max":3.14,"angle_increment":0.01}',frequency:"40 Hz",template:'{"ranges":[],"angle_min":0,"angle_max":0,"angle_increment":0}'}};function em(e){let{topicName:t}=e,[a,n]=(0,l.useState)(ec[t]),[r,i]=(0,l.useState)(a.template),[d,o]=(0,l.useState)("1"),[c,m]=(0,l.useState)(!1),[u,h]=(0,l.useState)(null),[f,x]=(0,l.useState)(null);(0,l.useEffect)(()=>()=>{u&&clearInterval(u)},[u]);let p=(0,l.useCallback)(e=>{try{let t=JSON.parse(e);return JSON.stringify(t,null,2)}catch(e){throw Error("Invalid JSON format")}},[]),g=(0,l.useCallback)(()=>{try{let e=p(r);x(null),console.log("Publishing to ".concat(t,":"),e),n(t=>({...t,data:e}))}catch(e){x("Invalid JSON data")}},[r,t,p]),j=(0,l.useCallback)(()=>{if(c)u&&(clearInterval(u),h(null));else try{p(r);let e=Math.max(.1,Math.min(100,Number.parseFloat(d)));if(e>0){let a=setInterval(()=>{console.log("Publishing to ".concat(t,":"),r),n(e=>({...e,data:r}))},1e3/e);h(a)}x(null)}catch(e){x("Invalid JSON data or publish rate");return}m(!c)},[c,u,r,d,t,p]),y=(0,l.useCallback)(()=>{try{let e=p(r);i(e),x(null)}catch(e){x("Invalid JSON data")}},[r,p]);return(0,s.jsxs)(I,{className:"h-full w-full",children:[(0,s.jsxs)(P,{className:"pb-2",children:[(0,s.jsx)(E,{children:t}),(0,s.jsx)(F,{children:a.type})]}),(0,s.jsx)(O,{children:(0,s.jsxs)(ee,{defaultValue:"info",className:"w-full",children:[(0,s.jsxs)(et,{className:"w-full grid grid-cols-4",children:[(0,s.jsx)(ea,{value:"info",children:"Info"}),(0,s.jsx)(ea,{value:"data",children:"Data"}),(0,s.jsx)(ea,{value:"publish",children:"Publish"}),(0,s.jsx)(ea,{value:"visualization",children:"Visualization"})]}),(0,s.jsx)(es,{value:"info",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Type:"})," ",a.type]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Frequency:"})," ",a.frequency]})]})}),(0,s.jsx)(es,{value:"data",children:(0,s.jsx)("pre",{className:"bg-muted p-2 rounded text-sm font-mono overflow-auto max-h-[200px]",children:p(a.data)})}),(0,s.jsxs)(es,{value:"publish",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Message Data:"}),(0,s.jsx)(v,{variant:"outline",size:"sm",onClick:y,children:"Format JSON"})]}),(0,s.jsx)(el,{value:r,onChange:e=>i(e.target.value),className:"font-mono text-sm",rows:5}),f&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:f})]}),(0,s.jsxs)("div",{className:"flex items-end gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Publish Rate (Hz):"}),(0,s.jsx)(G,{type:"number",value:d,onChange:e=>o(e.target.value),min:"0.1",max:"100",step:"0.1",className:"mt-1"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(v,{onClick:g,size:"sm",children:[(0,s.jsx)(en.A,{className:"h-4 w-4 mr-2"}),"Publish Once"]}),(0,s.jsxs)(v,{onClick:j,size:"sm",variant:c?"destructive":"default",children:[c?(0,s.jsx)(er.A,{className:"h-4 w-4 mr-2"}):(0,s.jsx)(ei.A,{className:"h-4 w-4 mr-2"}),c?"Stop":"Start"]})]})]})]}),(0,s.jsx)(es,{value:"visualization",className:"min-h-[200px]",children:(()=>{switch(t){case"/scan":return(0,s.jsx)(ed,{});case"/camera/image_raw":return(0,s.jsx)(eo,{});default:return(0,s.jsx)("div",{className:"text-muted-foreground",children:"No visualization available"})}})()})]})})]})}var eu=a(53047),eh=a(70212),ef=a(11131),ex=a(72235),ep=a(43210),eg=a(91603);let ej=eg.bL;eg.l9;let ev=eg.ZL;eg.bm;let ey=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(eg.hJ,{ref:t,className:g("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});ey.displayName=eg.hJ.displayName;let eN=l.forwardRef((e,t)=>{let{className:a,children:l,...n}=e;return(0,s.jsxs)(ev,{children:[(0,s.jsx)(ey,{}),(0,s.jsxs)(eg.UC,{ref:t,className:g("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[l,(0,s.jsxs)(eg.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(Z.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});eN.displayName=eg.UC.displayName;let eb=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:g("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};eb.displayName="DialogHeader";let ew=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:g("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};ew.displayName="DialogFooter";let ek=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(eg.hE,{ref:t,className:g("text-lg font-semibold leading-none tracking-tight",a),...l})});ek.displayName=eg.hE.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(eg.VY,{ref:t,className:g("text-sm text-muted-foreground",a),...l})}).displayName=eg.VY.displayName;var eC=a(15301);let ez=eC.bL,eS=eC.l9;eC.YJ,eC.ZL,eC.Pb,eC.z6,l.forwardRef((e,t)=>{let{className:a,inset:l,children:n,...r}=e;return(0,s.jsxs)(eC.ZP,{ref:t,className:g("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",l&&"pl-8",a),...r,children:[n,(0,s.jsx)(w.A,{className:"ml-auto h-4 w-4"})]})}).displayName=eC.ZP.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(eC.G5,{ref:t,className:g("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})}).displayName=eC.G5.displayName;let e_=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(eC.ZL,{children:(0,s.jsx)(eC.UC,{ref:t,className:g("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});e_.displayName=eC.UC.displayName;let eA=l.forwardRef((e,t)=>{let{className:a,inset:l,...n}=e;return(0,s.jsx)(eC.q7,{ref:t,className:g("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l&&"pl-8",a),...n})});eA.displayName=eC.q7.displayName,l.forwardRef((e,t)=>{let{className:a,children:l,checked:n,...r}=e;return(0,s.jsxs)(eC.H_,{ref:t,className:g("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(eC.VF,{children:(0,s.jsx)(k.A,{className:"h-4 w-4"})})}),l]})}).displayName=eC.H_.displayName,l.forwardRef((e,t)=>{let{className:a,children:l,...n}=e;return(0,s.jsxs)(eC.hN,{ref:t,className:g("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(eC.VF,{children:(0,s.jsx)(C.A,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=eC.hN.displayName,l.forwardRef((e,t)=>{let{className:a,inset:l,...n}=e;return(0,s.jsx)(eC.JU,{ref:t,className:g("px-2 py-1.5 text-sm font-semibold text-foreground",l&&"pl-8",a),...n})}).displayName=eC.JU.displayName;let eR=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(eC.wv,{ref:t,className:g("-mx-1 my-1 h-px bg-border",a),...l})});eR.displayName=eC.wv.displayName;let eL=[{id:"1",name:"config",type:"directory",path:"/config",children:[{id:"2",name:"robot_params.yaml",type:"file",content:"robot_name: my_robot\nmax_velocity: 1.0\nmax_acceleration: 0.5",path:"/config/robot_params.yaml"},{id:"3",name:"navigation.yaml",type:"file",content:"map_file: map.pgm\nbase_frame: base_link\nodom_frame: odom",path:"/config/navigation.yaml"}]},{id:"4",name:"maps",type:"directory",path:"/maps",children:[{id:"5",name:"lab_map.pgm",type:"file",content:"Binary map data...",path:"/maps/lab_map.pgm"}]},{id:"6",name:"arduino",type:"directory",path:"/arduino",children:[{id:"7",name:"robot_controller.ino",type:"file",content:"void setup() {\n  pinMode(LED_BUILTIN, OUTPUT);\n}\n\nvoid loop() {\n  digitalWrite(LED_BUILTIN, HIGH);\n  delay(1000);\n  digitalWrite(LED_BUILTIN, LOW);\n  delay(1000);\n}",path:"/arduino/robot_controller.ino"}]},{id:"8",name:"scripts",type:"directory",path:"/scripts",children:[{id:"9",name:"startup.sh",type:"file",content:"#!/bin/bash\nros2 launch robot_bringup main.launch.py",path:"/scripts/startup.sh"}]}];function eM(e){let{onOpenFile:t,onOpenTerminal:a,onSaveFile:n}=e,[r,i]=(0,l.useState)(eL),[c,m]=(0,l.useState)([]),[u,h]=(0,l.useState)(null),[f,x]=(0,l.useState)(null),[p,g]=(0,l.useState)(""),[j,y]=(0,l.useState)(null),[N,b]=(0,l.useState)(!1),[k,C]=(0,l.useState)(!1),[z,S]=(0,l.useState)(""),[_,A]=(0,l.useState)(""),[R,L]=(0,l.useState)(!1),[M,I]=(0,l.useState)("/"),[P,E]=(0,l.useState)([]),F=e=>e.endsWith(".ino"),O=e=>{m(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},D=e=>{E(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},U=e=>{x(e.id),g(e.name)},T=(e,t,a)=>e.map(e=>e.id===t?{...e,...a}:e.children?{...e,children:T(e.children,t,a)}:e),H=e=>{if(!p.trim())return;let t=e.path.replace(e.name,p);i(a=>T(a,e.id,{name:p,path:t})),x(null)},J=e=>{let t=a=>a.filter(a=>a.id!==e.id&&(a.children&&(a.children=t(a.children)),!0));i(e=>t(e))},W=e=>{y(e),b(!0)},B=e=>{if(!j)return;let t=a=>{let s=null;return[a.filter(a=>{if(a.id===j.id)return s={...a,path:"".concat(e,"/").concat(a.name)},!1;if(a.children){let[e,l]=t(a.children);a.children=e,l&&(s=l)}return!0}),s]},a=(e,t,s)=>e.map(e=>e.path===t&&"directory"===e.type?{...e,children:[...e.children||[],s]}:e.children?{...e,children:a(e.children,t,s)}:e);i(s=>{let[l,n]=t(s);return n?a(l,e,n):s}),y(null),b(!1)},V=(e,t)=>{let a={id:"folder-".concat(Date.now()),name:t,type:"directory",path:"".concat(e,"/").concat(t),children:[]},s=t=>t.map(t=>t.path===e&&"directory"===t.type?{...t,children:[...t.children||[],a]}:t.children?{...t,children:s(t.children)}:t);i(t=>"/"===e?[...t,a]:s(t)),C(!1),A(""),S("")},Z=(e,t)=>{let a=e.split("/"),s=a.pop(),l=a.join("/"),n={id:"file-".concat(Date.now()),name:s,type:"file",path:e,content:t},r=t=>t.map(t=>{if(t.path===l&&"directory"===t.type){var a;let s=null===(a=t.children)||void 0===a?void 0:a.findIndex(t=>t.path===e);if(void 0!==s&&-1!==s&&t.children){let e=[...t.children];return e[s]=n,{...t,children:e}}return{...t,children:[...t.children||[],n]}}return t.children?{...t,children:r(t.children)}:t});i(t=>{if(""===l){let a=t.findIndex(t=>t.path===e);if(-1!==a){let e=[...t];return e[a]=n,e}return[...t,n]}return r(t)})},K=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.map(e=>{if("directory"!==e.type)return null;let l=a?P.includes(e.path):c.includes(e.path),n=a?D:O,r=a?M:z;return(0,s.jsxs)("div",{children:[(0,s.jsxs)(v,{variant:"ghost",className:"w-full justify-start ".concat(r===e.path?"bg-accent":""),style:{paddingLeft:"".concat(20*t+8,"px")},onClick:()=>a?I(e.path):S(e.path),children:[(0,s.jsx)(w.A,{className:"h-4 w-4 mr-2 transition-transform ".concat(l?"rotate-90":""),onClick:t=>{t.stopPropagation(),n(e.path)}}),(0,s.jsx)(d.A,{className:"h-4 w-4 mr-2"}),e.name]}),l&&e.children&&(0,s.jsx)("div",{children:K(e.children,t+1,a)})]},e.id)})},Y=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map(e=>{let n=c.includes(e.path);return(0,s.jsxs)("div",{children:[(0,s.jsxs)(ez,{children:[(0,s.jsx)(eS,{children:(0,s.jsxs)(v,{variant:"ghost",className:"w-full justify-start ".concat((null==u?void 0:u.id)===e.id?"bg-accent":""),style:{paddingLeft:"".concat(20*l+8,"px")},onClick:()=>{"file"===e.type?t(e,F(e.name)?"arduino":"text"):O(e.path),h(e)},children:["directory"===e.type?(0,s.jsx)(w.A,{className:"h-4 w-4 mr-2 transition-transform ".concat(n?"rotate-90":""),onClick:t=>{t.stopPropagation(),O(e.path)}}):null,"directory"===e.type?(0,s.jsx)(d.A,{className:"h-4 w-4 mr-2"}):(0,s.jsx)(eh.A,{className:"h-4 w-4 mr-2"}),f===e.id?(0,s.jsx)(G,{value:p,onChange:e=>g(e.target.value),onKeyDown:t=>{"Enter"===t.key&&H(e)},onBlur:()=>H(e),className:"text-sm"}):e.name]})}),(0,s.jsxs)(e_,{children:["file"===e.type?(0,s.jsxs)(eA,{onClick:()=>t(e,F(e.name)?"arduino":"text"),children:[(0,s.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Open"]}):null,"directory"===e.type?(0,s.jsxs)(eA,{onClick:()=>a(e.path),children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Open Terminal Here"]}):null,(0,s.jsxs)(eA,{onClick:()=>U(e),children:[(0,s.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Rename"]}),(0,s.jsxs)(eA,{onClick:()=>W(e),children:[(0,s.jsx)(ef.A,{className:"h-4 w-4 mr-2"}),"Move"]}),(0,s.jsx)(eR,{}),(0,s.jsxs)(eA,{onClick:()=>J(e),children:[(0,s.jsx)(ex.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),n&&e.children&&(0,s.jsx)("div",{className:"ml-4",children:Y(e.children,l+1)})]},e.id)})};return(0,s.jsxs)("div",{className:"p-4 h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"File System"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(v,{size:"sm",onClick:()=>L(!0),children:[(0,s.jsx)(eu.A,{className:"h-4 w-4 mr-2"}),"Upload"]}),(0,s.jsxs)(v,{size:"sm",onClick:()=>C(!0),children:[(0,s.jsx)(ep.A,{className:"h-4 w-4 mr-2"}),"New Folder"]})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-auto",children:Y(r)}),(0,s.jsx)(ej,{open:N,onOpenChange:()=>b(!1),children:(0,s.jsxs)(eN,{className:"max-w-2xl",children:[(0,s.jsx)(eb,{children:(0,s.jsx)(ek,{children:"Move to..."})}),(0,s.jsxs)("div",{className:"grid grid-cols-[1fr,2fr] gap-4",children:[(0,s.jsx)("div",{className:"border rounded-lg p-4 max-h-[400px] overflow-y-auto",children:K(r)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Target Path"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:z})]})]}),(0,s.jsx)(ew,{children:(0,s.jsx)(v,{onClick:()=>B(z),disabled:!z,children:"Move"})})]})}),(0,s.jsx)(ej,{open:k,onOpenChange:C,children:(0,s.jsxs)(eN,{className:"max-w-2xl",children:[(0,s.jsx)(eb,{children:(0,s.jsx)(ek,{children:"Create New Folder"})}),(0,s.jsxs)("div",{className:"grid grid-cols-[1fr,2fr] gap-4",children:[(0,s.jsxs)("div",{className:"border rounded-lg p-4 max-h-[400px] overflow-y-auto",children:[(0,s.jsxs)(v,{variant:"ghost",className:"w-full justify-start mb-2 ".concat("/"===z?"bg-accent":""),onClick:()=>S("/"),children:[(0,s.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Root"]}),K(r)]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Selected Path"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:z})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"folderName",className:"text-sm font-medium",children:"Folder Name"}),(0,s.jsx)(G,{id:"folderName",value:_,onChange:e=>A(e.target.value),placeholder:"Enter folder name"})]})]})]}),(0,s.jsx)(ew,{children:(0,s.jsx)(v,{onClick:()=>V(z||"/",_),disabled:!_,children:"Create"})})]})}),(0,s.jsx)(ej,{open:R,onOpenChange:L,children:(0,s.jsxs)(eN,{className:"max-w-2xl",children:[(0,s.jsx)(eb,{children:(0,s.jsx)(ek,{children:"Select Upload Location"})}),(0,s.jsxs)("div",{className:"grid grid-cols-[1fr,2fr] gap-4",children:[(0,s.jsxs)("div",{className:"border rounded-lg p-4 max-h-[400px] overflow-y-auto",children:[(0,s.jsxs)(v,{variant:"ghost",className:"w-full justify-start mb-2 ".concat("/"===M?"bg-accent":""),onClick:()=>I("/"),children:[(0,s.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Root"]}),K(r,0,!0)]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Selected Path"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:M})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(G,{type:"file",multiple:!0,className:"hidden",id:"file-upload",onChange:e=>{let t=e.target.files;t&&(Array.from(t).forEach(e=>{let t=new FileReader;t.onload=t=>{var a;let s=null===(a=t.target)||void 0===a?void 0:a.result;Z("".concat("/"===M?"":M,"/").concat(e.name),s)},t.readAsText(e)}),L(!1))}}),(0,s.jsx)(v,{asChild:!0,className:"w-full",children:(0,s.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,s.jsx)(eu.A,{className:"h-4 w-4 mr-2"}),"Choose Files"]})})]})]})]})]})})]})}var eI=a(1588),eP=a(46539);function eE(e){let{filePath:t,content:a,isArduino:n=!1,onSave:r,fileSystem:i=[]}=e,[o,c]=(0,l.useState)(a),[m,u]=(0,l.useState)(!1),[h,f]=(0,l.useState)(!1),[x,p]=(0,l.useState)("/"),[g,j]=(0,l.useState)(""),[y,N]=(0,l.useState)([]),b=async()=>{t?(null==r||r(t,o),u(!1)):(f(!0),j((null==t?void 0:t.split("/").pop())||"untitled"+(n?".ino":".txt")))},k=e=>{N(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map(e=>"directory"!==e.type?null:(0,s.jsxs)("div",{children:[(0,s.jsxs)(v,{variant:"ghost",className:"w-full justify-start ".concat(x===e.path?"bg-accent":""),style:{paddingLeft:"".concat(20*t+8,"px")},onClick:()=>p(e.path),children:[(0,s.jsx)(w.A,{className:"h-4 w-4 mr-2 transition-transform ".concat(y.includes(e.path)?"rotate-90":""),onClick:t=>{t.stopPropagation(),k(e.path)}}),(0,s.jsx)(d.A,{className:"h-4 w-4 mr-2"}),e.name]}),y.includes(e.path)&&e.children&&(0,s.jsx)("div",{children:C(e.children,t+1)})]},e.id))};return(0,s.jsxs)("div",{className:"h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 border-b",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(v,{variant:"outline",size:"sm",onClick:b,disabled:!m,children:[(0,s.jsx)(eP.A,{className:"h-4 w-4 mr-2"}),"Save"]}),n&&(0,s.jsxs)(v,{size:"sm",onClick:()=>{console.log("Uploading to Arduino:",o)},children:[(0,s.jsx)(eu.A,{className:"h-4 w-4 mr-2"}),"Upload to Arduino"]})]}),m&&(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Unsaved changes"})]}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(eI.Ay,{height:"100%",defaultLanguage:(()=>{var e;if(n)return"cpp";if(!t)return"plaintext";switch(null===(e=t.split(".").pop())||void 0===e?void 0:e.toLowerCase()){case"py":return"python";case"js":case"jsx":return"javascript";case"ts":case"tsx":return"typescript";case"json":return"json";case"yaml":case"yml":return"yaml";case"md":return"markdown";case"sh":case"bash":return"shell";case"cpp":case"h":case"hpp":return"cpp";case"xml":return"xml";default:return"plaintext"}})(),theme:"vs-dark",value:o,onChange:e=>{void 0!==e&&(c(e),u(!0))},options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,wordWrap:"on"}})}),(0,s.jsx)(ej,{open:h,onOpenChange:f,children:(0,s.jsxs)(eN,{className:"max-w-2xl",children:[(0,s.jsx)(eb,{children:(0,s.jsx)(ek,{children:"Save File"})}),(0,s.jsxs)("div",{className:"grid grid-cols-[1fr,2fr] gap-4",children:[(0,s.jsxs)(Y,{className:"h-[400px] border rounded-lg p-4",children:[(0,s.jsxs)(v,{variant:"ghost",className:"w-full justify-start mb-2 ".concat("/"===x?"bg-accent":""),onClick:()=>p("/"),children:[(0,s.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Root"]}),C(i)]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Selected Path"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:x})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"fileName",className:"text-sm font-medium",children:"File Name"}),(0,s.jsx)(G,{id:"fileName",value:g,onChange:e=>j(e.target.value),placeholder:"Enter file name"})]})]})]}),(0,s.jsx)(ew,{children:(0,s.jsx)(v,{onClick:()=>{x&&g&&r&&(r("".concat("/"===x?"":x,"/").concat(g),o),u(!1),f(!1))},disabled:!g||!x,children:"Save"})})]})})]})}let eF=(0,l.forwardRef)((e,t)=>{let{autoLayout:a}=e,[n,r]=(0,l.useState)([]),[i,d]=(0,l.useState)(1),o=(0,l.useRef)(null),c=(0,l.useRef)(a),[m,u]=(0,l.useState)(null);(0,l.useEffect)(()=>{c.current=a,a&&f()},[a]);let h=(0,l.useCallback)(()=>{if(!o.current)return{x:0,y:0};let e=o.current,t=e.clientWidth,a=e.clientHeight,s=20,l=20,r=50*n.length%(Math.min(t,a)/2);return{x:s=(20+r)%(t-400-20),y:(20+r)%(a-300-20)}},[n.length]),f=(0,l.useCallback)(()=>{if(!o.current)return;let e=o.current,t=e.clientWidth,a=e.clientHeight,s=n.filter(e=>!e.isMinimized);if(0===s.length)return;let l=Math.ceil(Math.sqrt(s.length)),i=Math.ceil(s.length/l),d=Math.floor((t-20*(l+1))/l),c=Math.floor((a-20*(i+1))/i);r(e=>e.map(e=>{if(e.isMinimized)return e;let t=s.findIndex(t=>t.id===e.id);if(-1===t)return e;let a=Math.floor(t/l);return{...e,x:20+t%l*(d+20),y:20+a*(c+20),width:d,height:c}}))},[n]),x=(0,l.useCallback)(function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",{x:s,y:l}=h();r(n=>{let r=Math.max(...n.map(e=>e.zIndex),0)+1,o={id:"window-".concat(i),type:e,title:"console"===e?"Console ".concat(i):"editor"===e?"Editor: ".concat(t||"Untitled"):"arduino"===e?"Arduino: ".concat(t||"Untitled"):"terminal"===e?"Terminal: ".concat(t||"/"):"filesystem"===e?"File System":"Topic: ".concat(t),x:s,y:l,width:400,height:300,isMinimized:!1,zIndex:r,topicName:"topic"===e?t:void 0,filePath:["editor","arduino"].includes(e)?t:void 0,fileContent:a};return d(e=>e+1),[...n,o]})},[h,i]);(0,l.useImperativeHandle)(t,()=>({createWindow:x}),[x]);let p=(0,l.useCallback)(e=>{r(t=>{let a=Math.max(...t.map(e=>e.zIndex))+1;return t.map(t=>t.id===e?{...t,zIndex:a}:t)})},[]),j=(0,l.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e))},[]),y=(0,l.useCallback)(e=>{r(t=>t.map(t=>{if(t.id!==e)return t;if(t.isMinimized){var a,s,l,n,r,i,d,o;return{...t,isMinimized:!1,height:null!==(r=null===(a=t.savedDimensions)||void 0===a?void 0:a.height)&&void 0!==r?r:300,width:null!==(i=null===(s=t.savedDimensions)||void 0===s?void 0:s.width)&&void 0!==i?i:400,x:null!==(d=null===(l=t.savedDimensions)||void 0===l?void 0:l.x)&&void 0!==d?d:t.x,y:null!==(o=null===(n=t.savedDimensions)||void 0===n?void 0:n.y)&&void 0!==o?o:t.y}}return{...t,isMinimized:!0,savedDimensions:{x:t.x,y:t.y,width:t.width,height:t.height},height:40,width:400}}))},[]),N=(0,l.useCallback)((e,t,a)=>{r(s=>s.map(s=>s.id!==e?s:{...s,width:Number.parseInt(t.style.width),height:Number.parseInt(t.style.height),x:a.x,y:a.y}))},[]),b=(0,l.useCallback)(e=>{u(e)},[]),w=(0,l.useCallback)(()=>{u(null)},[]),C=(0,l.useCallback)((e,t)=>{r(a=>a.map(a=>a.id!==e?a:{...a,title:t}))},[]),z=(0,l.useCallback)((e,t)=>{n.find(e=>"filesystem"===e.type)||x("filesystem"),r(a=>a.map(a=>("editor"===a.type||"arduino"===a.type)&&a.filePath===e?{...a,fileContent:t}:a)),n.filter(e=>"filesystem"===e.type).forEach(a=>{var s,l;(null===(l=a.ref)||void 0===l?void 0:null===(s=l.current)||void 0===s?void 0:s.handleFileSave)&&a.ref.current.handleFileSave(e,t)})},[n,x]);return(0,s.jsx)("div",{ref:o,className:"absolute inset-0",children:n.map(e=>{var t,a;return(0,s.jsx)(B.p,{default:{x:e.x,y:e.y,width:e.width,height:e.height},size:{width:e.width,height:e.isMinimized?40:e.height},position:{x:e.x,y:e.y},minWidth:400,minHeight:e.isMinimized?40:300,bounds:"parent",style:{zIndex:e.zIndex},onDragStop:(t,a)=>{r(t=>t.map(t=>t.id===e.id?{...t,x:a.x,y:a.y}:t))},onResize:(t,a,s,l,n)=>{N(e.id,s,n)},enableResizing:!e.isMinimized,onMouseDown:()=>p(e.id),resizeHandleClasses:{bottom:"h-2 cursor-row-resize",bottomLeft:"h-2 w-2 cursor-sw-resize",bottomRight:"h-2 w-2 cursor-se-resize",left:"w-2 cursor-col-resize",right:"w-2 cursor-col-resize",top:"h-2 cursor-row-resize",topLeft:"h-2 w-2 cursor-nw-resize",topRight:"h-2 w-2 cursor-ne-resize"},children:(0,s.jsxs)("div",{className:g("flex flex-col border rounded-lg shadow-lg bg-card text-card-foreground overflow-hidden","transition-all duration-200",e.isMinimized?"h-10":"h-full"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[m===e.id?(0,s.jsx)(G,{type:"text",value:e.title,onChange:t=>C(e.id,t.target.value),onBlur:w,onKeyDown:e=>{"Enter"===e.key&&w()},autoFocus:!0,className:"text-sm font-semibold"}):(0,s.jsx)("h3",{className:"text-sm font-semibold",children:e.title}),m===e.id?(0,s.jsx)(v,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:w,children:(0,s.jsx)(k.A,{className:"h-3 w-3"})}):(0,s.jsx)(v,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>b(e.id),children:(0,s.jsx)(q.A,{className:"h-3 w-3"})})]}),(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)(v,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>y(e.id),children:(0,s.jsx)(V.A,{className:"h-4 w-4"})}),(0,s.jsx)(v,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>j(e.id),children:(0,s.jsx)(Z.A,{className:"h-4 w-4"})})]})]}),(0,s.jsx)("div",{className:g("flex-1 overflow-auto transition-all duration-200",e.isMinimized?"hidden":"block"),children:"console"===e.type?(0,s.jsx)(X,{}):"editor"===e.type?(0,s.jsx)(eE,{filePath:e.filePath,content:e.fileContent||"",onSave:z,fileSystem:(null===(t=n.find(e=>"filesystem"===e.type))||void 0===t?void 0:t.fileSystem)||[]}):"arduino"===e.type?(0,s.jsx)(eE,{filePath:e.filePath,content:e.fileContent||"",isArduino:!0,onSave:z,fileSystem:(null===(a=n.find(e=>"filesystem"===e.type))||void 0===a?void 0:a.fileSystem)||[]}):"filesystem"===e.type?(0,s.jsx)(eM,{onOpenFile:(e,t)=>{x("arduino"===t?"arduino":"editor",e.path,e.content)},onOpenTerminal:e=>{x("terminal",e)},onSaveFile:z}):"terminal"===e.type?(0,s.jsx)(X,{initialDirectory:e.filePath}):(0,s.jsx)(em,{topicName:e.topicName})})]})},e.id)})})});eF.displayName="WindowManager";var eO=a(11516),eD=a(28295);let eU=(0,l.createContext)({theme:"dark",setTheme:()=>null});function eT(e){let{children:t,defaultTheme:a="dark",storageKey:n="ui-theme",...r}=e,[i,d]=(0,l.useState)(a);return(0,l.useEffect)(()=>{let e=localStorage.getItem(n);e?(d(e),document.documentElement.classList.toggle("dark","dark"===e)):document.documentElement.classList.toggle("dark","dark"===a)},[a,n]),(0,l.useEffect)(()=>{localStorage.setItem(n,i),document.documentElement.classList.toggle("dark","dark"===i)},[i,n]),(0,s.jsx)(eU.Provider,{value:{theme:i,setTheme:d},children:t})}let eH=()=>{let e=(0,l.useContext)(eU);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e};function eJ(){let{theme:e,setTheme:t}=eH();return(0,s.jsxs)("nav",{className:"flex items-center justify-between px-4 h-14 border-b border-border bg-background text-foreground",children:[(0,s.jsx)("h1",{className:"text-lg font-semibold",children:"ROS2 Web Interface"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(v,{variant:"ghost",size:"icon",onClick:()=>t("dark"===e?"light":"dark"),children:"dark"===e?(0,s.jsx)(eO.A,{className:"h-5 w-5"}):(0,s.jsx)(eD.A,{className:"h-5 w-5"})}),(0,s.jsx)("span",{children:"Welcome, admin"}),(0,s.jsx)(v,{variant:"ghost",size:"sm",children:"Logout"})]})]})}function eW(){let e=(0,l.useRef)(null),[t,a]=(0,l.useState)(!1),n=(0,l.useCallback)((t,a)=>{var s;(null==e?void 0:null===(s=e.current)||void 0===s?void 0:s.createWindow)&&e.current.createWindow(t,a)},[]);return(0,s.jsx)(eT,{defaultTheme:"dark",storageKey:"ui-theme",children:(0,s.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,s.jsx)(eJ,{}),(0,s.jsxs)("div",{className:"flex-1 flex",children:[(0,s.jsx)(W,{createWindow:n,autoLayout:t,onAutoLayoutChange:a}),(0,s.jsx)("div",{className:"flex-1 relative",children:(0,s.jsx)(eF,{ref:e,autoLayout:t})})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[749,497,954,358],()=>t(15515)),_N_E=e.O()}]);